(this["webpackJsonpreminders-frontend"]=this["webpackJsonpreminders-frontend"]||[]).push([[0],{108:function(e,t,a){e.exports=a.p+"static/media/add.b8be3259.svg"},109:function(e,t,a){e.exports=a.p+"static/media/renew.89760865.svg"},110:function(e,t,a){e.exports=a.p+"static/media/trash-can.c4a9197b.svg"},114:function(e,t,a){e.exports=a.p+"static/media/search.9757a878.svg"},121:function(e,t,a){e.exports=a(208)},126:function(e,t,a){},127:function(e,t,a){},139:function(e,t,a){e.exports=a.p+"static/media/overflow-menu--vertical.f1ad3b28.svg"},208:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),c=a.n(i),l=(a(126),a(127),a(71)),s=a(3),o=a(51),u=a(4),d=a.n(u),m=a(28),p=a(29),h=a(31),f=a(30),k=a(32),v=a(95),b=a.n(v),y=a(96),w=(a(136),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={speed:1,player:r.a.createRef()},a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return this.props.url?this.props.url.includes("youtu")?r.a.createElement("div",{className:"media-player"},r.a.createElement(b.a,{url:this.props.url,controls:!0})):".mp3"===this.props.url.slice(-4)?r.a.createElement("div",{className:"media-player"},r.a.createElement(y.a,{ref:function(t){return e.player=t},src:this.props.url}),r.a.createElement("select",{onChange:function(t){var a=parseFloat(t.target.value);e.setState({speed:a}),e.player.audio.playbackRate=a},value:this.state.speed},r.a.createElement("option",{value:"0.5"},"0.5x"),r.a.createElement("option",{value:"0.9"},"0.9x"),r.a.createElement("option",{value:"1"},"1x"),r.a.createElement("option",{value:"1.25"},"1.25x"),r.a.createElement("option",{value:"1.5"},"1.5x"),r.a.createElement("option",{value:"1.75"},"1.75x"),r.a.createElement("option",{value:"2"},"2x"))):r.a.createElement("h3",null,"No media"):r.a.createElement("h3",{className:!0},"No media")}}]),t}(n.Component)),E=a(35),g=(a(137),a(115)),x=a.n(g),j=a(107),O=(a(138),a(108)),N=a.n(O),C=a(109),L=a.n(C),S=(a(139),a(110)),F=a.n(S),D=a(34),T=a(120),A=a(114),R=a.n(A),q=function(e){window.location="https://fullchee-reminders-backend.herokuapp.com/search?q=".concat(e)},P=function(e){var t=Object(n.useState)(""),a=Object(T.a)(t,2),i=a[0],c=a[1];return r.a.createElement("div",{className:"search-box"},r.a.createElement(D.a,null,r.a.createElement("button",{id:"search",onClick:function(){return q(i)}},r.a.createElement("img",{src:R.a,alt:"search"}))),r.a.createElement("input",{id:"query",type:"text",name:"query",className:"input--text",placeholder:"Search",onChange:function(e){return c(e.target.value)},onKeyUp:function(e){(function(e){return"Enter"===e.key})(e)&&q(e.target.value)}}))};var U=function(e){return r.a.createElement("nav",{className:"buttons"},r.a.createElement(P,null),r.a.createElement("div",{className:"buttons__icons"},r.a.createElement(D.a,null,r.a.createElement("button",{id:"refresh",onClick:e.refresh},r.a.createElement("img",{src:L.a,alt:"reload"}))),r.a.createElement(D.a,null,r.a.createElement("button",{id:"add",onClick:e.clearForm},r.a.createElement("img",{src:N.a,alt:"add"}))),r.a.createElement(D.a,null,r.a.createElement("button",{id:"delete",className:"delete",onClick:e.confirmDelete},r.a.createElement("img",{src:F.a,alt:"delete"})))))},z=a(119),K=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).getKeywords=function(){var e,t,n,r;return d.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,d.a.awrap(fetch("https://fullchee-reminders-backend.herokuapp.com/keywords"));case 2:return e=i.sent,i.next=5,d.a.awrap(e.json());case 5:t=i.sent,n=0,r=t.map((function(e){return{id:n++,label:e,value:e}})),a.setState({keywordOptions:r});case 9:case"end":return i.stop()}}))},a.formatLink=function(e){e.keywords?e.keywords=e.keywords.split(","):e.keywords=[];var t=0;return e.keywords=e.keywords.map((function(e){return{id:t++,label:e,value:e}})),e},a.minifyLink=function(e){e.keywords||console.error(e);var t=[];return e.keywords.forEach((function(e){t.push(e.value)})),e.keywords=t.join(","),e},a.getRandomLink=function(){var e,t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(fetch("https://fullchee-reminders-backend.herokuapp.com/random-link"));case 2:return e=n.sent,n.next=5,d.a.awrap(e.json());case 5:return t=n.sent,window.history.replaceState(null,"New Page Title","/link/".concat(t.id)),n.abrupt("return",a.formatLink(t));case 8:case"end":return n.stop()}}))},a.getLink=function(e){var t,n;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.a.awrap(fetch("https://fullchee-reminders-backend.herokuapp.com/link/".concat(e)));case 2:return t=r.sent,r.next=5,d.a.awrap(t.json());case 5:return n=r.sent,r.abrupt("return",a.formatLink(n));case 7:case"end":return r.stop()}}))},a.refresh=function(e){var t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(Number.isNaN(parseInt(e))){n.next=6;break}return n.next=3,d.a.awrap(a.getLink(parseInt(e)));case 3:t=n.sent,n.next=9;break;case 6:return n.next=8,d.a.awrap(a.getRandomLink());case 8:t=n.sent;case 9:if(t){n.next=11;break}throw new Error("Got an empty link.");case 11:a.setState({link:t});case 12:case"end":return n.stop()}}))},a.changeHandler=function(e){var t=e.target.name,n=e.target.value,r=a.state.link;r[t]=n,a.setState({link:r})},a.handleEditorChange=function(e,t){var n=a.state.link;n.takeaways=e,a.setState({link:n})},a.updateLink=function(e){var t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.minifyLink(Object(o.a)({},a.state.link)))},fetch("https://fullchee-reminders-backend.herokuapp.com/update-link",t).then((function(e){return e.json()})).then((function(e){Object(E.b)("Updated link: ".concat(a.state.link.title,"!"))})).catch((function(e){console.error(e),Object(E.b)("Couldn't update the link")}));case 4:case"end":return n.stop()}}))},a.confirmDelete=function(){Object(j.confirmAlert)({title:'Delete "'.concat(a.state.link.title,'"?'),message:"",buttons:[{label:"Yes",onClick:function(){a.deleteLink()}},{label:"No",onClick:function(){}}]})},a.deleteLink=function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.state.link.id})},fetch("https://fullchee-reminders-backend.herokuapp.com/delete-link",e).then((function(e){return e.json()})).then((function(e){Object(E.b)("Deleted link: ".concat(a.state.link.title,"!"))})).catch((function(e){console.error(e),Object(E.b)("Couldn't delete the link")}));case 2:case"end":return t.stop()}}))},a.clearForm=function(){a.setState({link:{takeaways:"",title:"",url:"",keywords:[],datesAccessed:[]}})},a.keywordSelected=function(e){e=e.sort((function(e,t){return e.label>t.label?-1:1}));var t=Object(o.a)({},a.state.link);t.keywords=e.map((function(e){return e&&"object"===typeof e?Object(o.a)({},e,{label:a.capitalizeFirstLetter(e.label),value:a.capitalizeFirstLetter(e.value)}):{id:e,value:e,label:e}})),a.setState({link:t})},a.capitalizeFirstLetter=function(e){return e[0].toUpperCase()+e.slice(1)},a.state={link:{keywords:[{id:12,label:"Perspective",value:"Perspective"}],title:"This is Water - David Foster Wallace",url:"https://www.youtube.com/watch?v=ms2BvRbjOYo",takeaways:"Really reminded me of meditative practices. \n\nGreat advice, takes practice to follow",datesAccessed:["2019-08"],id:0},keywordOptions:[]},a}return Object(k.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getKeywords(),"0"!==this.props.id&&this.refresh(this.props.id)}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&this.refresh(this.props.id)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App container"},r.a.createElement("div",{className:"form-container"},r.a.createElement(U,{refresh:this.refresh,confirmDelete:this.confirmDelete,clearForm:this.clearForm}),r.a.createElement(w,{className:"mediaPlayer",url:this.state.link.url||"",onEnded:this.updateLink}),r.a.createElement("form",{className:"form"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{id:"title",type:"text",name:"title",className:"input input--text",value:this.state.link.title||"",onChange:this.changeHandler}),r.a.createElement("label",{htmlFor:"url"},"URL"),r.a.createElement("input",{id:"url",type:"url",name:"url",className:"input input--text",value:this.state.link.url||"",onChange:this.changeHandler}),r.a.createElement("label",{htmlFor:"keywords"},"Keywords"),r.a.createElement("div",{id:"keywords",className:"keywords"},r.a.createElement(x.a,{values:this.state.link.keywords,multi:!0,options:this.state.keywordOptions||[],onChange:this.keywordSelected,create:!0,onCreateNew:function(e){console.log(e)}})),r.a.createElement("label",{htmlFor:"datesAccessed"},"Dates"),r.a.createElement("p",{id:"datesAccessed"},this.state.link.datesAccessed),r.a.createElement("label",{htmlFor:"takeaways",style:{color:"white"}},"Takeaways"),r.a.createElement("div",{className:"text-editor"},r.a.createElement(z.a,{apiKey:"mhoop81tplrihnhuphy89bsw7qjq01dhzkjdzgb61ruf4itq",init:{height:400,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |alignleft aligncenter alignright alignjustify |bullist numlist outdent indent | removeformat | help | image insertdatetime"},name:"takeaways",value:this.state.link.takeaways||"",onEditorChange:this.handleEditorChange})),r.a.createElement("button",{id:"submit",type:"submit",name:"submit",onClick:this.updateLink},"Update")),r.a.createElement(E.a,null)))}}]),t}(n.Component);var J=function(e){return r.a.createElement(l.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/link/:id",render:function(e){var t=e.match;return r.a.createElement(K,{id:t.params.id})}}),r.a.createElement(s.a,{path:"/:id",render:function(e){var t=e.match;return r.a.createElement(K,{id:t.params.id})}}),r.a.createElement(s.a,{path:"/",render:function(){return r.a.createElement(K,{id:"0"})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[121,1,2]]]);
//# sourceMappingURL=main.dbef3246.chunk.js.map