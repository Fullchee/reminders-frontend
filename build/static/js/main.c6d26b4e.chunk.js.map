{"version":3,"sources":["images/flag.svg","images/renew.svg","images/overflow-menu--vertical.svg","images/trash-can.svg","images/logout.svg","images/add.svg","images/shuffle.svg","images/previous.svg","history.ts","components/Form/SpeedController/SpeedController.tsx","components/Form/VideoPlayer.tsx","components/Form/AudioPlayer.tsx","components/Form/MediaPlayer.tsx","components/Search/SearchBox.tsx","components/Nav/NavMoreMenu.tsx","components/Nav/Nav.tsx","components/Form/statuses.ts","helper/utilities.ts","components/Form/fetchFormData.ts","components/Form/videoBgPlayContent.ts","components/Form/Form.tsx","components/Form/FormContainer.tsx","components/Form/setupKeyboardShortcuts.ts","components/LoginForm.jsx","components/Search/SearchResults.tsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","createBrowserHistory","SpeedController","speed","onChange","className","e","parseFloat","target","value","VideoPlayer","url","useState","setSpeed","playing","setPlaying","playerRef","useRef","moveForward","seconds","current","seekTo","getCurrentTime","ref","playbackRate","controls","onClick","AudioPlayer","startTime","c","src","progressJumpSteps","backward","forward","onLoadedData","currentTime","newSpeed","audio","MediaPlayer","includes","endsWith","alt","SearchBox","query","setQuery","history","useHistory","search","push","id","type","name","placeholder","event","onKeyUp","key","wasEnterClicked","role","aria-label","NavMoreMenu","onDelete","isFlagged","toggleFlag","hasLink","confirmLogout","useDropdownMenu","buttonProps","itemProps","isOpen","setIsOpen","title","touchHold","overflowIcon","flagIcon","window","location","reload","refreshIcon","trashIcon","logoutIcon","Nav","Status","clearForm","confirmDelete","refresh","shuffle","addIcon","getTimeDiff","lastAccessed","now","Date","getTime","before","Number","isNaN","interval","days","Math","floor","round","formatTimeInterval","capitalizeFirstLetter","str","toUpperCase","slice","i","formatLink","link","keywords","length","map","word","label","last_accessed","start_time","get","setStatus","linkUrl","PENDING","fetch","res","json","RESOLVED","console","error","REJECTED","getRandomLink","process","getLink","status","getKeywords","formattedKeywords","sendUpdate","requestOptions","method","headers","body","JSON","stringify","api","response","deleteLink","toast","success","defaultLink","notes","flag","views","setupBackgroundYouTube","IS_YOUTUBE","hostname","IS_MOBILE_YOUTUBE","IS_DESKTOP_YOUTUBE","navigator","userAgent","indexOf","document","wrappedJSObject","Object","defineProperties","hidden","visibilityState","loop","aCallback","aDelay","aJitter","jitter","getRandomInt","delay","max","setTimeout","pressKey","handleYouTube","addEventListener","evt","stopImmediatePropagation","keyCodes","sendKeyEvent","eventName","keyboardKey","dispatchEvent","KeyboardEvent","bubbles","cancelable","keyCode","which","aMin","aMax","min","ceil","random","Form","handleUrlChange","handleStartTimeChange","keywordOptions","keywordSelected","handleEditorChange","updateLink","htmlFor","preventDefault","clipboard","writeText","info","style","paddingRight","viewBox","version","width","height","aria-hidden","fillRule","d","values","multi","options","create","color","apiKey","REACT_APP_TINY_MCE_API_KEY","init","menubar","plugins","toolbar","textareaName","onEditorChange","connectionErrorToast","FormContainer","handleLogout","setKeywordOptions","setHasLink","setLink","IDLE","apiCalls","staticStart","parseInt","complete","backendLink","message","confirmAlert","buttons","prevState","useEffect","then","disableCmdS","ctrlKey","querySelector","click","iframe","contentDocument","setupKeyboardShortcuts","selectedKeywords","sort","a","b","keyword","content","LoginForm","handleLogin","username","setUsername","password","setPassword","handleChange","class","onSubmit","textAlign","initialSearchResult","SearchResults","results","setResults","data","href","previousIcon","to","formatViews","App","localStorage","getItem","ok","setItem","token","user","removeItem","form","getFormWithId","loginForm","exact","path","render","match","params","component","hideProgressBar","pauseOnHover","pauseOnFocusLoss","draggable","autoClose","Boolean","ReactDOM","StrictMode","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c6d26b4e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/flag.9fcf6049.svg\";","module.exports = __webpack_public_path__ + \"static/media/renew.89760865.svg\";","module.exports = __webpack_public_path__ + \"static/media/overflow-menu--vertical.f1ad3b28.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash-can.c4a9197b.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout.2fce85e3.svg\";","module.exports = __webpack_public_path__ + \"static/media/add.b8be3259.svg\";","module.exports = __webpack_public_path__ + \"static/media/shuffle.5576ca98.svg\";","module.exports = __webpack_public_path__ + \"static/media/previous.e5693d95.svg\";","import { createBrowserHistory } from \"history\";\n\nexport default createBrowserHistory();\n","import React from \"react\";\nimport \"./SpeedController.scss\";\n\ninterface SpeedControllerProps {\n  speed: number;\n  onChange: (speed: number) => void;\n}\n\nexport function SpeedController({ speed, onChange }: SpeedControllerProps) {\n  return (\n    <select\n      className=\"speed-controller\"\n      onChange={(e) => {\n        onChange(parseFloat(e.target.value));\n      }}\n      value={speed}\n    >\n      <option value=\"0.5\">0.5x</option>\n      <option value=\"0.9\">0.9x</option>\n      <option value=\"1\">1x</option>\n      <option value=\"1.25\">1.25x</option>\n      <option value=\"1.5\">1.5x</option>\n      <option value=\"1.75\">1.75x</option>\n      <option value=\"2\">2x</option>\n      <option value=\"2.25\">2.25x</option>\n      <option value=\"2.5\">2.5x</option>\n      <option value=\"2.75\">2.75x</option>\n    </select>\n  );\n}\n","import React, { useRef, useState } from \"react\";\nimport ReactPlayer from \"react-player/youtube\";\nimport { SpeedController } from \"./SpeedController/SpeedController\";\nimport \"./VideoPlayer.scss\";\n\nfunction VideoPlayer({ url }: { url: string }) {\n  const [speed, setSpeed] = useState(1);\n  const [playing, setPlaying] = useState(false);\n  const playerRef = useRef(null);\n\n  function moveForward({ seconds } = { seconds: 10 }) {\n    // @ts-ignore\n    playerRef.current.seekTo(playerRef.current.getCurrentTime() + seconds);\n    setPlaying(true);\n  }\n  return (\n    <>\n      <ReactPlayer\n        playing={playing}\n        ref={playerRef}\n        playbackRate={speed}\n        url={url}\n        controls={true}\n      />\n      <SpeedController onChange={setSpeed} speed={speed} />\n      <div className=\"seek-buttons\">\n        <button onClick={() => moveForward({ seconds: -5 })}>&lt;</button>\n        <button onClick={() => moveForward({ seconds: 10 })}>&gt;</button>\n      </div>\n    </>\n  );\n}\n\nexport default VideoPlayer;\n","import React, { useRef, useState } from \"react\";\nimport ReactAudioPlayer from \"react-h5-audio-player\";\nimport { SpeedController } from \"./SpeedController/SpeedController\";\n\ninterface AudioPlayerProps {\n  url: string;\n  startTime: number;\n}\n\nfunction AudioPlayer({ url, startTime }: AudioPlayerProps) {\n  const [speed, setSpeed] = useState(1);\n  let playerRef: any = useRef(null);\n  const updateSpeed = (newSpeed: number) => {\n    setSpeed(newSpeed);\n    playerRef.audio.current.playbackRate = newSpeed;\n  };\n  return (\n    <>\n      <ReactAudioPlayer\n        ref={(c) => (playerRef = c)}\n        src={url}\n        progressJumpSteps={{ backward: 15000, forward: 30000 }}\n        onLoadedData={({ target }: { target: any }) => {\n          target.currentTime = startTime || 0;\n        }}\n      />\n      <SpeedController onChange={updateSpeed} speed={speed} />\n    </>\n  );\n}\n\nexport default AudioPlayer;\n","import React from \"react\";\nimport \"react-h5-audio-player/lib/styles.css\";\nimport VideoPlayer from \"./VideoPlayer\";\nimport AudioPlayer from \"./AudioPlayer\";\n\ninterface MediaPlayerProps {\n  url: string;\n  startTime: number;\n}\n\nfunction MediaPlayer({ url, startTime }: MediaPlayerProps) {\n  const getMediaContainer = () => {\n    // initial load: it doesn't do a/th\n    if (!url) {\n      return <h3>No media</h3>;\n    }\n\n    if (url.includes(\"youtu\")) {\n      return <VideoPlayer url={url} />;\n    }\n    if (url.includes(\".mp3\")) {\n      return <AudioPlayer url={url} startTime={startTime} />;\n    }\n    if (\n      url.endsWith(\".jpg\") ||\n      url.endsWith(\".png\") ||\n      url.includes(\"imgur.com\")\n    ) {\n      if (url.includes(\"imgur.com\") && !url.endsWith(\".jpg\")) {\n        url += \".jpg\";\n      }\n      return <img className=\"media-image\" src={url} alt=\"\"></img>;\n    }\n    return <h3>No media</h3>;\n  };\n  return <div className=\"media-player\">{getMediaContainer()}</div>;\n}\n\nexport default MediaPlayer;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst wasEnterClicked = (event: React.KeyboardEvent<HTMLInputElement>) =>\n  event.key === \"Enter\";\n\nfunction SearchBox() {\n  const [query, setQuery] = useState(\"\");\n  let history = useHistory();\n\n  const search = (query: string) => {\n    history.push(\"/search?q=\" + query);\n  };\n\n  return (\n    <div className=\"search-box\">\n      <input\n        id=\"query\"\n        type=\"text\"\n        name=\"query\"\n        value={query}\n        className=\"input--text\"\n        placeholder=\"🔍  Search\"\n        onChange={(event) => setQuery(event.target.value)}\n        onKeyUp={(event) => {\n          wasEnterClicked(event) &&\n            search((event.target as HTMLInputElement).value);\n        }}\n      />\n      <button onClick={() => search(query)} className=\"search-button\">\n        <span role=\"img\" aria-label=\"Search\">\n          🔍\n        </span>\n      </button>\n    </div>\n  );\n}\n\nexport default SearchBox;\n","import React, { MouseEventHandler } from \"react\";\n// @ts-ignore\nimport Ripple from \"react-touch-ripple\";\nimport { Tooltip } from \"react-tippy\";\nimport \"react-tippy/dist/tippy.css\";\nimport useDropdownMenu from \"react-accessible-dropdown-menu-hook\";\n\nimport flagIcon from \"../../images/flag.svg\";\nimport refreshIcon from \"../../images/renew.svg\";\nimport overflowIcon from \"../../images/overflow-menu--vertical.svg\";\nimport trashIcon from \"../../images/trash-can.svg\";\nimport logoutIcon from \"../../images/logout.svg\";\n\ninterface NavMoreMenuProps {\n  onDelete: MouseEventHandler;\n  isFlagged: boolean;\n  toggleFlag: MouseEventHandler;\n  hasLink: boolean;\n  confirmLogout: MouseEventHandler;\n}\n\nfunction NavMoreMenu({\n  onDelete,\n  isFlagged,\n  toggleFlag,\n  hasLink,\n  confirmLogout,\n}: NavMoreMenuProps) {\n  const { buttonProps, itemProps, isOpen, setIsOpen } = useDropdownMenu(3);\n  return (\n    <div className=\"more-menu-container\">\n      {/* @ts-ignore */}\n      <Tooltip title=\"More\" touchHold=\"true\">\n        <Ripple>\n          <button id=\"overflow\" {...buttonProps}>\n            <img src={overflowIcon} alt=\"Click for more\" />\n          </button>\n        </Ripple>\n      </Tooltip>\n      <div className={`${isOpen ? \"visible\" : \"\"} more-menu`} role=\"menu\">\n        <a\n          className={`more-menu-item ${isFlagged ? \"is-flagged\" : \"\"}`}\n          {...itemProps[0]}\n          onClick={(e) => {\n            setIsOpen(false);\n            toggleFlag(e);\n          }}\n        >\n          <img src={flagIcon} alt=\"\"></img>\n          {isFlagged ? \"Unflag\" : \"Flag\"}\n        </a>\n        <a\n          className=\"more-menu-item\"\n          {...itemProps[1]}\n          onClick={() => {\n            window.location.reload();\n          }}\n        >\n          <img src={refreshIcon} alt=\"\"></img>\n          Refresh\n        </a>\n        <a\n          className={`more-menu-item delete ${hasLink ? \"\" : \"disable\"}`}\n          {...itemProps[2]}\n          onClick={(e) => {\n            setIsOpen(false);\n            onDelete(e);\n          }}\n        >\n          <img src={trashIcon} alt=\"\"></img>Delete\n        </a>\n        <a\n          className={`more-menu-item delete ${hasLink ? \"\" : \"disable\"}`}\n          {...itemProps[3]}\n          onClick={(e) => {\n            setIsOpen(false);\n            confirmLogout(e);\n          }}\n        >\n          <img src={logoutIcon} alt=\"\"></img>Log out\n        </a>\n      </div>\n    </div>\n  );\n}\n\nexport default NavMoreMenu;\n","import React, { MouseEventHandler } from \"react\";\n// @ts-ignore\nimport Ripple from \"react-touch-ripple\";\nimport { Tooltip } from \"react-tippy\";\nimport \"react-tippy/dist/tippy.css\";\n\nimport SearchBox from \"../Search/SearchBox\";\nimport NavMoreMenu from \"./NavMoreMenu\";\nimport addIcon from \"../../images/add.svg\";\nimport shuffle from \"../../images/shuffle.svg\";\nimport \"./Nav.scss\";\n\ninterface NavProps {\n  clearForm: MouseEventHandler;\n  confirmDelete: MouseEventHandler;\n  isFlagged: boolean;\n  refresh: any;\n  toggleFlag: MouseEventHandler;\n  hasLink: boolean;\n  confirmLogout: MouseEventHandler;\n}\n\nfunction Nav({\n  clearForm,\n  confirmDelete,\n  isFlagged,\n  refresh,\n  toggleFlag,\n  hasLink,\n  confirmLogout,\n}: NavProps) {\n  return (\n    <nav className=\"buttons home-nav\">\n      <SearchBox />\n      <div className=\"buttons__icons\">\n        {/* @ts-ignore */}\n        <Tooltip title=\"Random\" touchHold=\"true\">\n          <Ripple>\n            <button id=\"random\" onClick={refresh}>\n              <img src={shuffle} alt=\"random\" />\n            </button>\n          </Ripple>\n        </Tooltip>\n        {/* @ts-ignore */}\n        <Tooltip title=\"Add\" touchHold=\"true\">\n          <Ripple>\n            <button id=\"add\" onClick={clearForm}>\n              <img src={addIcon} alt=\"add\" />\n            </button>\n          </Ripple>\n        </Tooltip>\n        <NavMoreMenu\n          isFlagged={isFlagged}\n          onDelete={confirmDelete}\n          toggleFlag={toggleFlag}\n          hasLink={hasLink}\n          confirmLogout={confirmLogout}\n        />\n      </div>\n    </nav>\n  );\n}\n\nexport default Nav;\n","export enum Status {\n  IDLE = \"idle\",\n  PENDING = \"pending\",\n  RESOLVED = \"resolved\",\n  REJECTED = \"rejected\",\n}\n","/**\n * @param interval time interval in ms\n */\nconst formatTimeInterval = (interval: number) => {\n  const days = Math.floor(interval / (1000 * 60 * 60 * 24));\n  if (days > 365) {\n    return `${Math.floor(days / 365)} year(s) ago`;\n  }\n  if (days > 60) {\n    return `${Math.round(days / 30)} months ago`;\n  }\n  if (days === 1) {\n    return `${days} day ago`;\n  }\n  if (days === 0) {\n    return `today`;\n  }\n  return `${days} days ago`;\n};\n\nexport const getTimeDiff = (lastAccessed: string) => {\n  const now = new Date().getTime();\n  const before = new Date(lastAccessed).getTime();\n  if (Number.isNaN(before) || before === 0) {\n    return \"Never accessed before\";\n  }\n  return formatTimeInterval(now - before);\n};\n\nexport const formatViews = (views: number) => {\n  switch (views) {\n    case 0:\n      return \"No views\";\n    case 1:\n      return \"1 view\";\n    default:\n      return `${views} views`;\n  }\n};\n\nexport const capitalizeFirstLetter = (str: string) => {\n  return str[0].toUpperCase() + str.slice(1);\n};\n","import history from \"../../history\";\nimport { toast } from \"react-toastify\";\nimport { getTimeDiff } from \"../../helper/utilities\";\nimport { Status } from \"./statuses\";\n\nconst formatLink = (link: Link) => {\n  if (!link?.keywords?.length) {\n    link.keywords = [];\n  }\n  let i = 0;\n  link.keywords = link.keywords.map((word: string) => {\n    return { id: i++, label: word, value: word };\n  });\n  link.lastAccessed = getTimeDiff((link.last_accessed as string));\n  link.startTime = link.start_time;\n  return link;\n};\n\nconst minifyLink = (link: Link) => link;\n\nconst get = async (setStatus: (s: Status) => void, linkUrl: string) => {\n  setStatus(Status.PENDING);\n  try {\n    const res = await fetch(linkUrl);\n    const json = await res.json();\n    setStatus(Status.RESOLVED);\n    return json;\n  } catch (error) {\n    console.error(error);\n    setStatus(Status.REJECTED);\n    // @ts-ignore\n    if (error.name === \"AbortError\") {\n      console.error(\"AbortError\");\n    }\n  }\n};\n\nconst getRandomLink = (setStatus: (s: Status) => void) => async () => {\n  const link = await get(\n    setStatus,\n    process.env.REACT_APP_BACKEND_URL + \"random-link\"\n  );\n  if (!link) {\n    console.error(\"Couldn't find a link\");\n    return;\n  }\n  history.push(`/link/${link.id}`);\n  return formatLink(link);\n};\n\nconst getLink = (setStatus: (s: Status) => void) => async (id: number) => {\n  setStatus(Status.PENDING);\n  const res = await fetch(process.env.REACT_APP_BACKEND_URL + `link/${id}`);\n  if (res.status !== 404) {\n    const link = await res.json();\n    setStatus(Status.RESOLVED);\n    return formatLink(link);\n  } else {\n    setStatus(Status.REJECTED);\n  }\n};\n\nconst getKeywords = (setStatus: (s: Status) => void) => async () => {\n  const json = await get(\n    setStatus,\n    process.env.REACT_APP_BACKEND_URL + \"keywords\"\n  );\n  if (!json) {\n    console.error(\"Couldn't find keywords\");\n    return;\n  }\n  let i = 0;\n  const formattedKeywords = json.map((word: string) => {\n    return { id: i++, label: word, value: word };\n  });\n  return formattedKeywords;\n};\n\nconst sendUpdate = (setStatus: (s: Status) => void) => async (\n  link: Link,\n  hasLink: boolean\n) => {\n  const requestOptions = {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(minifyLink({ ...link })),\n  };\n\n  const api = hasLink ? \"update-link\" : \"add-link\";\n  try {\n    setStatus(Status.PENDING);\n    const response = await fetch(\n      `${process.env.REACT_APP_BACKEND_URL}${api}`,\n      requestOptions\n    );\n    setStatus(Status.RESOLVED);\n    const json = await response.json();\n    return formatLink(json);\n  } catch (error) {\n    console.error(error);\n    setStatus(Status.REJECTED);\n  }\n};\n\nconst deleteLink = (setStatus: (s: Status) => void) => async (link: Link) => {\n  const requestOptions = {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      id: link.id,\n    }),\n  };\n\n  try {\n    setStatus(Status.PENDING);\n    const res = await fetch(\n      process.env.REACT_APP_BACKEND_URL + \"delete-link\",\n      requestOptions\n    );\n    await res.json();\n    setStatus(Status.RESOLVED);\n    toast.success(`Deleted link: ${link.title}`);\n  } catch (error) {\n    console.error(error);\n    setStatus(Status.REJECTED);\n    toast.error(\"Couldn't delete the link\");\n  }\n};\n\nexport const apiCalls = (status: Status, setStatus: (s: Status) => void) => {\n  return {\n    getRandomLink: getRandomLink(setStatus),\n    getLink: getLink(setStatus),\n    getKeywords: getKeywords(setStatus),\n    sendUpdate: sendUpdate(setStatus),\n    deleteLink: deleteLink(setStatus),\n  };\n};\n\nexport const defaultLink: Link = {\n  keywords: [{ id: 12, label: \"Perspective\", value: \"Perspective\" }],\n  title: \"Carl Sagan - Pale Blue Dot\",\n  url: \"https://www.youtube.com/watch?v=wupToqz1e2g?t=10\",\n  notes:\n    \"Look again at that dot. That's here. That's home. That's us. <div>On it everyone you love, <br>everyone you know, <br>everyone you ever heard of, <br>every human being who ever was, lived out their lives.</div>\",\n  lastAccessed: \"3 months ago\",\n  id: 0,\n  flag: false,\n  views: 3,\n  startTime: 10,\n};\n","// Code taken from this Firefox extension\n// https://addons.mozilla.org/en-CA/firefox/addon/video-background-play-fix/\n\nexport function setupBackgroundYouTube() {\n  handleYouTube();\n  window.addEventListener(\n    \"visibilitychange\",\n    (evt) => evt.stopImmediatePropagation(),\n    true\n  );\n  handleVimeo();\n}\n\n/**\n * Uses the Firefox Page Visibility API\n */\nfunction handleYouTube() {\n  const IS_YOUTUBE =\n    window.location.hostname.search(/(?:^|.+\\.)youtube\\.com/) > -1 ||\n    window.location.hostname.search(/(?:^|.+\\.)youtube-nocookie\\.com/) > -1;\n  const IS_MOBILE_YOUTUBE = window.location.hostname === \"m.youtube.com\";\n  const IS_DESKTOP_YOUTUBE = IS_YOUTUBE && !IS_MOBILE_YOUTUBE;\n  const IS_ANDROID = window.navigator.userAgent.indexOf(\"Android\") > -1;\n\n  if (IS_ANDROID || !IS_DESKTOP_YOUTUBE) {\n    if (document.wrappedJSObject) {\n      // only available on Firefox\n      // https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Sharing_objects_with_page_scripts\n      Object.defineProperties(document.wrappedJSObject, {\n        hidden: { value: false },\n        visibilityState: { value: \"visible\" },\n      });\n    }\n  }\n  // User activity tracking\n  if (IS_YOUTUBE) {\n    loop(pressKey, 60 * 1000, 10 * 1000); // every minute +/- 5 seconds\n  }\n}\n\nfunction pressKey() {\n  const keyCodes = [18];\n  let key = keyCodes[getRandomInt(0, keyCodes.length)];\n  sendKeyEvent(\"keydown\", key);\n  sendKeyEvent(\"keyup\", key);\n}\n\nfunction sendKeyEvent(eventName: string, keyboardKey: number) {\n  document.dispatchEvent(\n    new KeyboardEvent(eventName, {\n      bubbles: true,\n      cancelable: true,\n      keyCode: keyboardKey,\n      which: keyboardKey,\n    })\n  );\n}\n\nfunction loop(aCallback: () => void, aDelay: number, aJitter: number) {\n  let jitter = getRandomInt(-aJitter / 2, aJitter / 2);\n  let delay = Math.max(aDelay + jitter, 0);\n\n  window.setTimeout(() => {\n    aCallback();\n    loop(aCallback, aDelay, aJitter);\n  }, delay);\n}\n\nfunction getRandomInt(aMin: number, aMax: number) {\n  let min = Math.ceil(aMin);\n  let max = Math.floor(aMax);\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\n// Fullscreen API\n\nfunction handleVimeo() {\n  // Fullscreen API\n  const IS_VIMEO = window.location.hostname.search(/(?:^|.+\\.)vimeo\\.com/) > -1;\n  if (IS_VIMEO) {\n    window.addEventListener(\n      \"fullscreenchange\",\n      (evt) => evt.stopImmediatePropagation(),\n      true\n    );\n  }\n}\n","import React, { ChangeEventHandler } from \"react\";\nimport Select from \"react-dropdown-select\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport { Toast } from \"react-toastify\";\n\ninterface FormProps {\n  link: Link;\n  hasLink: boolean;\n  handleUrlChange: any;\n  toast: Toast;\n  handleStartTimeChange: ChangeEventHandler<HTMLInputElement>;\n  keywordOptions: Keyword[];\n  keywordSelected: (selectedKeywords: Keyword[]) => void;\n  handleEditorChange: (content: string, _editor: any) => void;\n  updateLink: any;\n}\n\nexport function Form({\n  link,\n  hasLink,\n  handleUrlChange,\n  toast,\n  handleStartTimeChange,\n  keywordOptions,\n  keywordSelected,\n  handleEditorChange,\n  updateLink,\n}: FormProps) {\n  return (\n    <form className=\"form\">\n      {hasLink && (\n        <>\n          <label htmlFor=\"id\">ID</label>\n          <p id=\"id\">{link.id}</p>\n        </>\n      )}\n      <label htmlFor=\"title\">Title</label>\n      <input\n        id=\"title\"\n        type=\"text\"\n        name=\"title\"\n        className=\"input input--text\"\n        value={link.title || \"\"}\n        onChange={handleUrlChange}\n      />\n      <label htmlFor=\"url\">\n        <button\n          onClick={(e) => {\n            e.preventDefault();\n            navigator.clipboard.writeText(link.url);\n            toast.info(\"Copied url to clipboard\");\n          }}\n          className=\"button-link url-label\"\n        >\n          <p style={{ paddingRight: \"4px\" }}>URL </p>\n          <svg\n            className=\"clipboard\"\n            viewBox=\"0 0 16 16\"\n            version=\"1.1\"\n            width=\"16\"\n            height=\"16\"\n            aria-hidden=\"true\"\n          >\n            <path\n              fillRule=\"evenodd\"\n              d=\"M5.75 1a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75h-4.5zm.75 3V2.5h3V4h-3zm-2.874-.467a.75.75 0 00-.752-1.298A1.75 1.75 0 002 3.75v9.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-9.5a1.75 1.75 0 00-.874-1.515.75.75 0 10-.752 1.298.25.25 0 01.126.217v9.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-9.5a.25.25 0 01.126-.217z\"\n            ></path>\n          </svg>\n        </button>\n      </label>\n\n      <input\n        id=\"url\"\n        type=\"url\"\n        name=\"url\"\n        className=\"input input--text\"\n        value={link.url || \"\"}\n        onChange={handleUrlChange}\n      />\n      {hasLink && (\n        <>\n          <label htmlFor=\"startTime\">Start time</label>\n          <input\n            id=\"startTime\"\n            name=\"startTime\"\n            type=\"number\"\n            value={link.startTime}\n            className=\"input input--text\"\n            onChange={handleStartTimeChange}\n          />\n        </>\n      )}\n      <label htmlFor=\"keywords\">Keywords</label>\n      <div id=\"keywords\" className=\"keywords\">\n        <Select\n          values={link.keywords}\n          multi={true}\n          options={keywordOptions || []}\n          onChange={keywordSelected}\n          create={true}\n        />\n      </div>\n      <label htmlFor=\"lastAccessed\">Last accessed</label>\n      <p id=\"lastAccessed\">{link.lastAccessed}</p>\n      <label htmlFor=\"views\">Views</label>\n      <p id=\"views\">{link.views}</p>\n      <label htmlFor=\"notes\" style={{ color: \"white\" }}>\n        Notes\n      </label>\n      <div className=\"text-editor\">\n        <Editor\n          id=\"tiny-mce-editor\"\n          apiKey={process.env.REACT_APP_TINY_MCE_API_KEY}\n          init={{\n            height: 400,\n            menubar: false,\n            plugins: [\n              \"advlist autolink lists link image charmap print preview anchor\",\n              \"searchreplace visualblocks code fullscreen\",\n              \"insertdatetime media table paste code help wordcount\",\n            ],\n            toolbar:\n              `undo redo | formatselect | bold italic ` +\n              `| bullist numlist outdent indent | removeformat | image ` +\n              `| alignleft aligncenter alignright | help |`,\n          }}\n          textareaName=\"notes\"\n          value={link.notes || \"\"}\n          onEditorChange={handleEditorChange}\n        />\n      </div>\n      <button\n        id=\"submitButton\"\n        type=\"submit\"\n        name=\"submitButton\"\n        className=\"submit-button\"\n        onClick={updateLink}\n      >\n        {hasLink ? \"Update\" : \"Add\"}\n      </button>\n    </form>\n  );\n}\n","import { confirmAlert } from \"react-confirm-alert\";\nimport { toast } from \"react-toastify\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport LoadingBar from \"react-top-loading-bar\";\n\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport history from \"../../history\";\nimport MediaPlayer from \"./MediaPlayer\";\nimport Nav from \"../Nav/Nav\";\nimport { getTimeDiff, capitalizeFirstLetter } from \"../../helper/utilities\";\nimport { defaultLink, apiCalls } from \"./fetchFormData\";\nimport { Status } from \"./statuses\";\nimport { setupBackgroundYouTube } from \"./videoBgPlayContent\";\nimport { setupKeyboardShortcuts } from \"./setupKeyboardShortcuts\";\nimport \"./Form.scss\";\nimport { Form } from \"./Form\";\n\nfunction connectionErrorToast() {\n  toast.error(\"We couldn't connect to the backend!\");\n}\n\ninterface FormContainerProps {\n  id: number;\n  handleLogout: () => void;\n}\n\nexport function FormContainer({ id, handleLogout }: FormContainerProps) {\n  const [keywordOptions, setKeywordOptions] = useState([]);\n  const [hasLink, setHasLink] = useState(false);\n  const [link, setLink] = useState(defaultLink);\n  const [status, setStatus] = useState(Status.IDLE);\n  const { deleteLink, getKeywords, getLink, getRandomLink, sendUpdate } =\n    apiCalls(status, setStatus);\n  const ref = useRef(null);\n\n  /**\n   * @param {Event (which is ignored) or an integer} id\n   */\n  const refresh = async (id: number) => {\n    let link;\n    setStatus(Status.PENDING);\n    // @ts-ignore\n    if (ref?.current?.staticStart) {\n      // @ts-ignore\n      ref.current.staticStart();\n    }\n    if (!Number.isNaN(parseInt(`${id}`))) {\n      link = await getLink(parseInt(`${id}`));\n    }\n    if (!link) {\n      link = await getRandomLink();\n      if (!link) {\n        connectionErrorToast();\n        return;\n      }\n    }\n    setLink(link);\n    setHasLink(true);\n    setStatus(Status.RESOLVED);\n    // @ts-ignore\n    if (ref?.current?.complete) {\n      // @ts-ignore\n      ref.current.complete();\n    }\n  };\n\n  const handleUrlChange = (event: any) => {\n    const name = event.target.name;\n    const value = event.target.value;\n    setLink({ ...link, [name]: value });\n  };\n\n  const handleEditorChange = (content: string) => {\n    setLink({ ...link, notes: content });\n  };\n\n  const handleStartTimeChange = (event: any) => {\n    setLink({\n      ...link,\n      startTime: event.target.value,\n      start_time: event.target.value,\n    });\n  };\n\n  const updateLink = async (event: any) => {\n    if (event) {\n      event.preventDefault();\n    }\n\n    const backendLink = (await sendUpdate(link, hasLink)) as Link;\n    let message = `Added/updated link: ${backendLink.title}`;\n    if (!hasLink) {\n      message += ` with id: ${backendLink.id}`;\n    }\n    toast.success(message);\n    history.push(`/link/${backendLink.id}`);\n    setLink({\n      ...backendLink,\n      lastAccessed: getTimeDiff(backendLink.last_accessed as string),\n    });\n    setHasLink(true);\n  };\n\n  const confirmDelete = () => {\n    confirmAlert({\n      title: `Delete \"${link.title}\"?`,\n      message: \"\",\n      buttons: [\n        {\n          label: \"Yes\",\n          onClick: () => {\n            deleteLink(link);\n          },\n        },\n        {\n          label: \"No\",\n          onClick: () => {\n            return;\n          },\n        },\n      ],\n    });\n  };\n  const confirmLogout = () => {\n    confirmAlert({\n      title: `Logout?`,\n      message: \"\",\n      buttons: [\n        {\n          label: \"Yes\",\n          onClick: () => {\n            handleLogout();\n          },\n        },\n        {\n          label: \"No\",\n          onClick: () => {\n            return;\n          },\n        },\n      ],\n    });\n  };\n\n  const toggleFlag = async () => {\n    setLink((prevState) => {\n      toast.info(prevState.flag ? \"Unflagged!\" : \"Flagged!\");\n      return { ...prevState, flag: !prevState.flag };\n    });\n  };\n\n  const clearForm = () => {\n    history.push(`/`);\n\n    const keywords = hasLink ? link.keywords : [];\n    setLink({\n      notes: \"\",\n      title: \"\",\n      url: \"\",\n      keywords,\n      lastAccessed: \"\",\n      flag: false,\n      views: 0,\n    });\n    setHasLink(false);\n  };\n\n  /**\n   * Update the keywords of the link\n   */\n  const keywordSelected = (selectedKeywords: Keyword[]) => {\n    selectedKeywords = selectedKeywords.sort((a, b) => {\n      return a.label > b.label ? -1 : 1;\n    });\n    link.keywords = selectedKeywords.map((keyword: Keyword) => {\n      if (keyword && typeof keyword === \"object\") {\n        return {\n          ...keyword,\n          label: capitalizeFirstLetter(keyword.label),\n          value: capitalizeFirstLetter(keyword.value),\n        };\n      } else {\n        return {\n          id: keyword,\n          value: keyword,\n          label: keyword,\n        };\n      }\n    });\n    setLink(link);\n  };\n\n  useEffect(() => {\n    getKeywords().then((keywords) => {\n      if (!keywords) {\n        connectionErrorToast();\n      } else {\n        setKeywordOptions(keywords);\n      }\n    });\n    setupBackgroundYouTube();\n    setupKeyboardShortcuts({\n      updateLink,\n      clearForm,\n      refresh,\n      confirmDelete,\n      toggleFlag,\n    });\n    // TODO: remove event listeners on unmount\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (id && id !== link.id) {\n      refresh(id);\n      setHasLink(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  useEffect(() => {\n    document.title = `${link.title} - Reminders`;\n  }, [link.title]);\n\n  return (\n    <div className=\"app container\">\n      <LoadingBar color=\"#4158d0\" ref={ref} />\n      <div className=\"form-container\">\n        <Nav\n          hasLink={hasLink}\n          refresh={refresh}\n          confirmDelete={confirmDelete}\n          clearForm={clearForm}\n          toggleFlag={toggleFlag}\n          isFlagged={link.flag}\n          confirmLogout={confirmLogout}\n        />\n        <MediaPlayer\n          startTime={link.startTime || 0}\n          url={link.url || \"\"}\n          // TODO:\n          // onEnd={updateLink}\n        ></MediaPlayer>\n        <Form\n          link={link}\n          hasLink={hasLink}\n          handleUrlChange={handleUrlChange}\n          toast={toast}\n          handleStartTimeChange={handleStartTimeChange}\n          keywordOptions={keywordOptions}\n          keywordSelected={keywordSelected}\n          handleEditorChange={handleEditorChange}\n          updateLink={updateLink}\n        />\n      </div>\n    </div>\n  );\n}\n","interface SetupShortcutProps {\n  updateLink: any;\n  clearForm: () => void;\n  refresh: any;\n  confirmDelete: () => void;\n  toggleFlag: () => void;\n}\n\nexport function setupKeyboardShortcuts({\n  updateLink,\n  clearForm,\n  refresh,\n  confirmDelete,\n  toggleFlag,\n}: SetupShortcutProps) {\n  const disableCmdS = (e: KeyboardEvent) => {\n    if (e.ctrlKey) {\n      if (e.key === \"a\") {\n        e.preventDefault();\n        clearForm();\n      }\n      if (e.key === \"s\") {\n        e.preventDefault();\n        // TODO: I don't know why it sets the link state to be the default link when I call updateLink()\n        // updateLink();\n        const submitButton = document.querySelector(\n          \"#submitButton\"\n        ) as HTMLButtonElement;\n        submitButton.click();\n      }\n      if (e.key === \"r\") {\n        e.preventDefault();\n        refresh();\n      }\n      if (e.key === \"d\") {\n        e.preventDefault();\n        confirmDelete();\n      }\n      if (e.key === \"f\") {\n        e.preventDefault();\n        toggleFlag();\n      }\n    }\n  };\n  document.addEventListener(\"keydown\", disableCmdS);\n\n  setTimeout(() => {\n    const iframe = document.querySelector(\n      \"iframe#tiny-mce-editor_ifr\"\n    ) as HTMLIFrameElement;\n    if (iframe?.contentDocument) {\n      iframe.contentDocument.body.addEventListener(\"keydown\", disableCmdS);\n    }\n  }, 1000);\n}\n","import React, { useState } from 'react';\n\nexport function LoginForm({ handleLogin }) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleChange = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    const setState = name === 'username' ? setUsername : setPassword;\n    setState(value);\n  };\n\n  return (\n    <div className=\"app container\">\n      <div className=\"form-container\">\n        <form class=\"form\" onSubmit={(e) => handleLogin(e, { username, password })}>\n          <h4 style={{ textAlign: 'start' }}>Log In</h4>\n          <label htmlFor=\"username\">Email</label>\n          <input\n            className=\"input input--text\"\n            type=\"text\"\n            name=\"username\"\n            value={username}\n            onChange={handleChange}\n          />\n          <label htmlFor=\"password\">Password</label>\n          <input\n            className=\"input input--text\"\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={handleChange}\n          />\n          <button className=\"submit-button\" type=\"submit\">\n            Login\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport SearchBox from \"./SearchBox\";\nimport { Tooltip } from \"react-tippy\";\n// @ts-ignore\nimport Ripple from \"react-touch-ripple\";\nimport { Link as RRLink } from \"react-router-dom\";\n\nimport { formatViews, getTimeDiff } from \"../../helper/utilities\";\nimport previousIcon from \"../../images/previous.svg\";\n\nimport \"./Search.scss\";\n\nconst initialSearchResult: any = [];\nconst SearchResults = () => {\n  const query = window.location.search.slice(3);\n  const [results, setResults] = useState(initialSearchResult);\n\n  useEffect(() => {\n    fetch(process.env.REACT_APP_BACKEND_URL + \"search?q=\" + query).then(\n      (res) => {\n        res.json().then((data: any) => {\n          setResults(data);\n        });\n      }\n    );\n  }, [query]);\n\n  const renderSearchResults = () => {\n    if (!results.length) {\n      return <p>No results</p>;\n    }\n    return results.map((link: Link) => {\n      return (\n        <div className=\"search-result-item\" key={link.id}>\n          <RRLink className=\"search-result-item-link\" to={`/link/${link.id}`}>\n            <h3 className=\"search-result-item__title\">{link.title}</h3>\n            {/* <p className=\"search-result-item__url\" className=\"search-item-url\">\n              {result.url}\n            </p> */}\n            <div className=\"search-result-item__keywords\">\n              {link.keywords.map((keyword: string) => (\n                <a\n                  key={keyword}\n                  href={`/search?q=${keyword}`}\n                  className=\"search-result-keyword\"\n                >\n                  {keyword}\n                </a>\n              ))}\n            </div>\n            <p className=\"search-result-item__text\">\n              {/* TODO: distinguish between BackendLink and Link */}\n              Last accessed {getTimeDiff(link.last_accessed as string)}\n            </p>\n            <p className=\"search-result-item__text\">\n              {formatViews(link.views)}\n            </p>\n          </RRLink>\n        </div>\n      );\n    });\n  };\n\n  return (\n    <div className=\"app container\">\n      <div className=\"form-container\">\n        <nav className=\"buttons\">\n          {/* @ts-ignore */}\n          <Tooltip title=\"Back\" touchHold=\"true\">\n            <Ripple>\n              <button id=\"back\" onClick={() => (window.location.href = \"/\")}>\n                <img src={previousIcon} alt=\"back\" />\n              </button>\n            </Ripple>\n          </Tooltip>\n          <SearchBox />\n        </nav>\n        <div className=\"search-results\">{renderSearchResults()}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default SearchResults;\n","import React, { useState } from \"react\";\nimport \"./styles/App.scss\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { FormContainer } from \"./components/Form/FormContainer\";\nimport history from \"./history\";\nimport { LoginForm } from \"./components/LoginForm\";\nimport SearchResults from \"./components/Search/SearchResults\";\n\nfunction App() {\n  const [username, setUsername] = useState(() =>\n    localStorage.getItem(\"username\")\n  );\n\n  const handleLogin = async (e, data) => {\n    e.preventDefault();\n    try {\n      const res = await fetch(\n        `${process.env.REACT_APP_BACKEND_URL}token-auth/`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(data),\n        }\n      );\n      if (!res.ok) {\n        // TODO: show an error message?\n        toast.error(\"Incorrect username or password\");\n      }\n      const json = await res.json();\n      localStorage.setItem(\"token\", json.token);\n      localStorage.setItem(\"username\", json.user.username);\n      setUsername(json.user.username);\n      toast.success(`Welcome back ${json.user.username}!`);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"username\");\n    setUsername(\"\");\n  };\n\n  const form = (\n    <FormContainer handleLogout={handleLogout} username={username} />\n  );\n  const getFormWithId = (id) => (\n    <FormContainer handleLogout={handleLogout} username={username} id={id} />\n  );\n  const loginForm = <LoginForm handleLogin={handleLogin} />;\n\n  return (\n    <>\n      <Router history={history}>\n        <Switch>\n          {/* <Route exact path=\"/\" render={() => (username ? form : loginForm)} /> */}\n          <Route exact path=\"/\" render={() => form} />\n          <Route\n            exact\n            path=\"/login\"\n            render={() => (username ? form : loginForm)}\n          />\n          <Route\n            path=\"/link/:id\"\n            // render={({ match }) => (username ? getFormWithId(match.params.id) : loginForm)}\n            render={({ match }) => getFormWithId(match.params.id)}\n          />\n          <Route path=\"/search\" component={SearchResults} />\n          <Route\n            path=\"/:id\"\n            // render={({ match }) => (username ? getFormWithId(match.params.id) : loginForm)}\n            render={({ match }) => getFormWithId(match.params.id)}\n          />\n        </Switch>\n      </Router>\n      <ToastContainer\n        hideProgressBar={true}\n        pauseOnHover={false}\n        pauseOnFocusLoss={false}\n        draggable={false}\n        autoClose={2000}\n      />\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}